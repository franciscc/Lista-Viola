<main>
    <div class="search-box">
        <!-- <input type="text" [(ngModel)]="searchedText" (input)="updateDataSource($event)" placeholder="Search by name"> -->
        <mat-form-field class="example-full-width">
            <mat-label>Search by name or city</mat-label>
            <input matInput [(ngModel)]="searchedText" (input)="updateDataSource($event)" placeholder="Ex. Lionel" value="">
        </mat-form-field>
    </div>
    <div *ngIf="filteredDataSource.length == 0; else showContent" class="empty-list">
        <img src="https://gifdb.com/images/high/men-black-flashy-thing-nothing-to-see-here-pbpqmvcbtwki053v.gif" alt="Nothing to see here">
    </div>
    <ng-template #showContent>
        <div class="content">

            <table mat-table [dataSource]="filteredDataSource" class="mat-elevation-z8">
    
                <!-- Name Column -->
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef> Name </th>
                    <td mat-cell *matCellDef="let element"
                        [ngClass]="{'approved': isApproved(element.score), 'not-approved': !isApproved(element.score)}"
                        matTooltip="{{isApproved(element.score) ? 'Approved' : 'Not Approved'}}"> {{element.name}} </td>
                </ng-container>
    
                <!-- city Column -->
                <ng-container matColumnDef="city">
                    <th mat-header-cell *matHeaderCellDef> City </th>
                    <td mat-cell *matCellDef="let element"
                        [ngClass]="{'approved': isApproved(element.score), 'not-approved': !isApproved(element.score)}"
                        matTooltip="{{isApproved(element.score) ? 'Approved' : 'Not Approved'}}"> {{element.city}} </td>
                </ng-container>
    
                <!-- Score Column -->
                <ng-container matColumnDef="score">
                    <th mat-header-cell *matHeaderCellDef> Score </th>
                    <td mat-cell *matCellDef="let element"
                        [ngClass]="{'approved': isApproved(element.score), 'not-approved': !isApproved(element.score)}"
                        matTooltip="{{isApproved(element.score) ? 'Approved' : 'Not Approved'}}"> {{element.score}} </td>
                </ng-container>
    
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>
    </ng-template>
    
</main>